/**!
 * Scroll Snooper v2.0.0
 * @author phucbm
 * @homepage https://github.com/phucbm/scroll-snooper
 * @license MIT 2022
 */
function t(){return{w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight}}function e(){return{left:(window.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0),top:(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}}function o(t){return function(t){return"undefined"!=typeof jQuery&&t instanceof jQuery}(t)?t.get()[0]:t}function n(t){if(!t.getClientRects().length)return{top:0,left:0};const e=t.getBoundingClientRect(),o=t.ownerDocument.defaultView;return{top:e.top+o.pageYOffset,left:e.left+o.pageXOffset}}function i(e,o=t().h){let n={top:0,center:.5,bottom:1}[e];return"number"==typeof n?n:e.includes("%")?parseInt(e)/100:e.includes("px")?parseInt(e)/o:n}function r(t,e=r().h){const o=t.split(" "),n=i(o[0],e),r=i(o[1]);return{element:n,viewport:r}}function s(o,i){const s=r(i,o.offsetHeight);return n(o).top+o.offsetHeight*s.element-(e().top+t().h*s.viewport)}function l(t,e,o){if(void 0===t)return 0;const n=s(t,e);return-1*n/(s(t,o)-n)}function p(t=!0,e=!0,o=0){const n=document.createElement("div"),i=e?"#6495edff":"#dc143cff";n.style.cssText="right:0; z-index:99999; width:40px; height:0; pointer-events:none; font-size:14px;",n.style.position=t?"fixed":"absolute",n.style.backgroundColor=!t&&e?"rgba(100,149,237,0.1)":"",n.style.color=i,n.style.borderTop=`1px solid ${i}`,document.body.appendChild(n);const r=document.createElement("span");return r.innerText=e?"start":"end",n.appendChild(r),(t&&o>.9||!t&&!e)&&(r.style.cssText="position:absolute; bottom:0; left:0;"),n}var f;(f=window.ScrollSnooper=window.ScrollSnooper||{}).isInViewport=(t,e=0)=>{const n=l(o(t),"top bottom","bottom top"),i=n>0&&n<=1;return f.visibility(t).proportion>=e&&i},f.visibility=i=>{const r=function(o){const i=n(o).left,r=n(o).top,s=o.offsetWidth,l=o.offsetHeight,p=r-e().top,f=p-t().h,c=p+l;return{top_top:p,top_bottom:f,bottom_bottom:f+l,bottom_top:c,center_top:c-.5*l,center_bottom:f+.5*l,left:i,top:r,offsetWidth:s,offsetHeight:l}}(i=o(i)),s=Math.max(0,Math.min(i.offsetHeight,-1*r.top_bottom)),l=Math.max(0,Math.min(i.offsetHeight,r.bottom_top)),p=Math.min(s,l,t().h);return{pixel:p,proportion:p/i.offsetHeight}},f.getTheMostVisible=(t,e=0)=>{let o,n,i={pixel:0},r=!1,s=0;for(const l of t){const t=f.visibility(l);t.pixel>=e&&t.pixel>i.pixel&&(i=t,o=l,n=s,r=!0),s++}return{isFound:r,index:n,el:o,...i}},f.create=i=>{const s={trigger:void 0,start:"top bottom",end:"bottom top",visibility:!1,markers:!1,progressOutOfView:!1,onEnter:t=>{},onLeave:t=>{},onScroll:t=>{},isGetTheMostVisible:!1,atLeastPixel:0,onChange:t=>{},onFound:t=>{},...i};let c,d=!1,u=e().top;const m=o(s.trigger),a={};s.markers&&(a.start=r(s.start),a.end=r(s.end),a.viewportStart=p(!0,!0,a.start.viewport),a.viewportStart.style.top=100*a.start.viewport+"%",a.viewportEnd=p(!0,!1,a.end.viewport),a.viewportEnd.style.top=100*a.end.viewport+"%",a.elementStart=p(!1,!0),a.elementEnd=p(!1,!1));let g=null;const h=()=>JSON.stringify({...e(),...t()}),w=()=>{g!==h()&&((()=>{if(s.isGetTheMostVisible){const t=f.getTheMostVisible(s.trigger,s.atLeastPixel);void 0!==c&&t.index===c.index||(c=t,s.onChange({mostVisible:t}),t.isFound&&s.onFound({...t}))}else{const t=l(m,s.start,s.end);let o={trigger:m,progress:t,direction:e().top>u?-1:1,isInViewport:t>0&&t<1};if(u=e().top,o.isInViewport)d||(d=!0,s.onEnter(o));else if(d)d=!1,s.onLeave(o);else if(!s.progressOutOfView)return!1;if(s.markers){const t=n(m).top,e=m.offsetHeight*a.start.element,o=m.offsetHeight*a.end.element;a.elementStart.style.top=`${t+e}px`,a.elementEnd.style.top=`${t+o}px`,a.elementStart.style.height=o-e+"px"}s.visibility&&(o={...o,visibility:f.visibility(m)}),s.onScroll(o)}})(),g=h()),window.requestAnimationFrame(w)};window.requestAnimationFrame(w)};